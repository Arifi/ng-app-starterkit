{"version":3,"sources":["scripts/app-58b613cfd2.js"],"names":["angular","module","MainController","controller","runBlock","$log","debug","run","$inject","routerConfig","$stateProvider","$urlRouterProvider","FormioProvider","AppConfig","setBaseUrl","apiUrl","state","url","templateUrl","controllerAs","otherwise","config","constant","moment","$logProvider","debugEnabled","provider","resources","register","name","options","parent","queryId","query","submission","_id","ctrl","templates","params","index","$scope","$rootScope","$state","$stateParams","Formio","FormioUtils","$controller","currentResource","formUrl","$on","event","go","create","data","handle","abstract","submissionUrl","formio","resource","form","href","loadFormPromise","loadForm","then","loadSubmissionPromise","loadSubmission","view","edit","reload","$get","$templateCache","put"],"mappings":"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","file":"scripts/app-58b613cfd2.js","sourcesContent":["(function() {\n  'use strict';\n  angular.module('formioAppTemplate', [\n    'ngSanitize',\n    'ui.router',\n    'ui.bootstrap',\n    'formio'\n  ]);\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('formioAppTemplate')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController() {}\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('formioAppTemplate')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('formioAppTemplate')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider, FormioProvider, AppConfig) {\n    FormioProvider.setBaseUrl(AppConfig.apiUrl);\n\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n  angular\n    .module('formioAppTemplate')\n    .constant('moment', moment);\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('formioAppTemplate')\n    .provider('Resource', [\n      '$stateProvider',\n      function(\n        $stateProvider\n      ) {\n        var resources = {};\n        return {\n          register: function(name, url, options) {\n            resources[name] = name;\n            var parent = (options && options.parent) ? options.parent : null;\n            var queryId = name + 'Id';\n            var query = function(submission) {\n              var query = {};\n              query[queryId] = submission._id;\n              return query;\n            };\n            var controller = function(ctrl) {\n              return ['$scope', '$rootScope', '$state', '$stateParams', 'Formio', 'FormioUtils', '$controller', ctrl];\n            };\n\n            var templates = (options && options.templates) ? options.templates : {};\n            $stateProvider\n              .state(name + 'Index', {\n                url: '/' + name,\n                parent: parent ? parent : null,\n                params: options.params && options.params.index,\n                templateUrl: templates.index ? templates.index : 'views/resource/index.html',\n                controller: controller(function($scope, $rootScope, $state, $stateParams, Formio, FormioUtils, $controller) {\n                  $scope.currentResource = {\n                    name: name,\n                    queryId: queryId,\n                    formUrl: url\n                  };\n                  $scope.$on('submissionView', function(event, submission) {\n                    $state.go(name + '.view', query(submission));\n                  });\n\n                  $scope.$on('submissionEdit', function(event, submission) {\n                    $state.go(name + '.edit', query(submission));\n                  });\n\n                  $scope.$on('submissionDelete', function(event, submission) {\n                    $state.go(name + '.delete', query(submission));\n                  });\n                  if (options && options.index) {\n                    $controller(options.index, {$scope: $scope});\n                  }\n                })\n              })\n              .state(name + 'Create', {\n                url: '/create/' + name,\n                parent: parent ? parent : null,\n                params: options.params && options.params.create,\n                templateUrl: templates.create ? templates.create : 'views/resource/create.html',\n                controller: controller(function($scope, $rootScope, $state, $stateParams, Formio, FormioUtils, $controller) {\n                  $scope.currentResource = {\n                    name: name,\n                    queryId: queryId,\n                    formUrl: url\n                  };\n                  $scope.submission = {data: {}};\n                  var handle = false;\n                  if (options && options.create) {\n                    var ctrl = $controller(options.create, {$scope: $scope});\n                    handle = (ctrl.handle || false);\n                  }\n                  if (!handle) {\n                    $scope.$on('formSubmission', function(event, submission) {\n                      $state.go(name + '.view', query(submission));\n                    });\n                  }\n                })\n              })\n              .state(name, {\n                abstract: true,\n                url: '/' + name + '/:' + queryId,\n                parent: parent ? parent : null,\n                templateUrl: 'views/resource.html',\n                controller: controller(function($scope, $rootScope, $state, $stateParams, Formio, FormioUtils, $controller) {\n                  var submissionUrl = url + '/submission/' + $stateParams[queryId];\n                  $scope.currentResource = $scope[name] = {\n                    name: name,\n                    queryId: queryId,\n                    formUrl: url,\n                    submissionUrl: submissionUrl,\n                    formio: (new Formio(submissionUrl)),\n                    resource: {},\n                    form: {},\n                    href: '/#/' + name + '/' + $stateParams[queryId] + '/',\n                    parent: parent ? $scope[parent] : {href: '/#/', name: 'home'}\n                  };\n\n                  $scope.currentResource.loadFormPromise = $scope.currentResource.formio.loadForm().then(function(form) {\n                    $scope.currentResource.form = $scope[name].form = form;\n                  });\n                  $scope.currentResource.loadSubmissionPromise = $scope.currentResource.formio.loadSubmission().then(function(submission) {\n                    $scope.currentResource.resource = $scope[name].submission = submission;\n                  });\n\n                  if (options && options.abstract) {\n                    $controller(options.abstract, {$scope: $scope});\n                  }\n                })\n              })\n              .state(name + '.view', {\n                url: '/',\n                parent: name,\n                params: options.params && options.params.view,\n                templateUrl: templates.view ? templates.view : 'views/resource/view.html',\n                controller: controller(function($scope, $rootScope, $state, $stateParams, Formio, FormioUtils, $controller) {\n                  if (options && options.view) {\n                    $controller(options.view, {$scope: $scope});\n                  }\n                })\n              })\n              .state(name + '.edit', {\n                url: '/edit',\n                parent: name,\n                params: options.params && options.params.edit,\n                templateUrl: templates.edit ? templates.edit : 'views/resource/edit.html',\n                controller: controller(function($scope, $rootScope, $state, $stateParams, Formio, FormioUtils, $controller) {\n                  var handle = false;\n                  if (options && options.edit) {\n                    var ctrl = $controller(options.edit, {$scope: $scope});\n                    handle = (ctrl.handle || false);\n                  }\n                  if (!handle) {\n                    $scope.$on('formSubmission', function(event, submission) {\n                      $state.go(name + '.view', query(submission));\n                    });\n                  }\n                })\n              })\n              .state(name + '.delete', {\n                url: '/delete',\n                parent: name,\n                params: options.params && options.params.delete,\n                templateUrl: templates.delete ? templates.delete : 'views/resource/delete.html',\n                controller: controller(function($scope, $rootScope, $state, $stateParams, Formio, FormioUtils, $controller) {\n                  var handle = false;\n                  if (options && options.delete) {\n                    var ctrl = $controller(options.delete, {$scope: $scope});\n                    handle = (ctrl.handle || false);\n                  }\n                  if (!handle) {\n                    $scope.$on('delete', function() {\n                      if (parent && parent !== 'home') {\n                        $state.go(parent + '.view');\n                      }\n                      else {\n                        $state.go('home', null, {reload: true});\n                      }\n                    });\n                  }\n                })\n              });\n          },\n          $get: function() {\n            return resources;\n          }\n        };\n      }\n    ])\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    $logProvider.debugEnabled(true);\n  }\n\n})();\n\nangular.module(\"formioAppTemplate\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"row\\\"><div class=\\\"jumbotron\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-6 text-center\\\"><p class=\\\"lead\\\">You can easily embed your Forms and Resources into this application using.</p><div><pre>&lt;formio src=\\\"\\'https://yourapp.form.io/user/login\\'\\\"&gt;&lt;/formio&gt;</pre></div><p class=\\\"lead\\\">Need Help?</p><ul class=\\\"list-inline\\\"><li><a class=\\\"btn btn-lg btn-success\\\" target=\\\"_blank\\\" href=\\\"http://help.form.io/embedding/\\\">Embedding</a></li><li><a class=\\\"btn btn-lg btn-success\\\" target=\\\"_blank\\\" href=\\\"http://help.form.io\\\">Documentation</a></li></ul></div><div class=\\\"col-sm-6\\\"><p class=\\\"lead\\\">Example Form</p><div class=\\\"well\\\"><formio src=\\\"\\'https://formio.form.io/contact\\'\\\"></formio></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}